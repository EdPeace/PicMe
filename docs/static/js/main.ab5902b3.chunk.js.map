{"version":3,"sources":["reportWebVitals.js","cmps/TopBar.js","cmps/LoginPage.js","cmps/ColeccionesPage.js","cmps/ColeccionPage.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","TopBar","onBackToClick","e","window","location","props","backTo","onDeleteClick","axios","post","ColCod","deleteCol","res","onLogoutClick","localStorage","removeItem","getItem","state","logout","undefined","this","setState","onClick","className","isLogued","React","Component","LoginPage","onLoginClick","UsrUsr","UsrPwd","defaults","withCredentials","jres","data","status","setItem","errorMessage","payload","message","type","id","value","onChange","target","placeholder","autoComplete","ColeccionesPage","onColClick","onAddColClick","showAddPage","onCancelClick","onCrearClick","_this","ColNom","ColDsc","loadData","cols_divs","key","Object","hasOwnProperty","call","coleccion","push","style","display","ColeccionPage","onAddFotoClick","document","getElementById","click","onFotoSelected","imageFile","files","size","formData","FormData","append","showLoading","headers","alert","col_fotos","col_name","fotos","foto","foto_url","FotPath","FotCod","backgroundImage","class","name","_ColeccionPage","useParams","App","path","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ab5902b3.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport '../css/TopBar.scss';\r\n\r\nclass TopBar extends React.Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tlet isLogued = localStorage.getItem(\"logued\");\r\n\t\tif(!isLogued){\r\n\t\t\twindow.location = \"#/\";\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\tbackTo: \"\",\r\n\t\t\tdeleteCol: \"\",\r\n\t\t\tlogout: \"\"\r\n\t\t}\r\n\t}\r\n\r\n\tonBackToClick = e =>{\r\n\t\twindow.location = this.props.backTo;\r\n\t}\r\n\r\n\tonDeleteClick = e =>{\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/colecciones/eliminar.php\", {\r\n\t\t\tColCod: this.props.deleteCol\r\n\t\t}).then(res => {\r\n\t\t\twindow.location = this.props.backTo;\r\n\t\t});\r\n\t}\r\n\r\n\tonLogoutClick = e =>{\r\n\t\twindow.localStorage.removeItem(\"logued\");\r\n\t\twindow.location = \"#/\";\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tif(this.props.backTo !== undefined){\r\n\t\t\tthis.setState({\r\n\t\t\t\tbackTo: (<div onClick={this.onBackToClick} className=\"backToIcon\"><i className=\"material-icons\">arrow_back_ios</i></div>)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif(this.props.deleteCol !== undefined){\r\n\t\t\tthis.setState({\r\n\t\t\t\tdeleteCol: (<div onClick={this.onDeleteClick} className=\"deleteIcon\"><i className=\"material-icons\">delete</i></div>)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet isLogued = localStorage.getItem(\"logued\");\r\n\t\tif((this.props.backTo === undefined) && (this.props.deleteCol === undefined) && isLogued){\r\n\t\t\tthis.setState({\r\n\t\t\t\tlogout: (<div onClick={this.onLogoutClick} className=\"logoutIcon\"><i className=\"material-icons\">logout</i></div>)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"TopBar\">\r\n\t\t\t\t{this.state.backTo}\r\n\t\t\t\t{this.state.deleteCol}\r\n\t\t\t\t{this.state.logout}\r\n\t\t\t\t<div className=\"TopBarLogo\"></div>\r\n                <div className=\"MenuIcon\"></div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default TopBar;","import React from 'react';\r\nimport TopBar from '../cmps/TopBar';\r\nimport axios from 'axios';\r\nimport '../css/LoginPage.scss';\r\n\r\nclass LoginPage extends React.Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\t\"UsrUsr\": \"\",\r\n\t\t\t\"UsrPwd\": \"\",\r\n\t\t\t\"errorMessage\": \"\"\r\n\t\t}\r\n\t}\r\n\r\n\tonLoginClick = e =>{\r\n\t\t// Realizo consulta al servidor...\r\n\t\tlet UsrUsr = this.state.UsrUsr;\r\n\t\tlet UsrPwd = this.state.UsrPwd;\r\n\r\n\t\taxios.defaults.withCredentials = true;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/usuarios/login.php\", {\r\n\t\t\tUsrUsr: UsrUsr,\r\n\t\t\tUsrPwd: UsrPwd\r\n\t\t}).then(res => {\r\n\t\t\tlet jres = res.data;\r\n\r\n\t\t\tif(jres.status === \"OK\"){\r\n\t\t\t\twindow.location = \"#/colecciones\";\r\n\t\t\t\twindow.localStorage.setItem(\"logued\",\"OK\");\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({errorMessage: jres.payload.message});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"LoginPage\">\r\n\t\t\t\t<TopBar />\r\n\t\t\t\t<div className=\"LogoContainer\">\r\n\t\t\t\t\t<div className=\"Logo\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"FormContainer\">\r\n\t\t\t\t\t<div className=\"LoginForm\">\r\n\t\t\t\t\t\t<div className=\"FieldContainer\">\r\n\t\t\t\t\t\t\t<input type=\"text\" id=\"UsrUsr\" value={this.state.UsrUsr} onChange={e => this.setState({UsrUsr: e.target.value})} placeholder=\"Usuario\" autoComplete=\"new-password\"></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"FieldContainer\">\r\n\t\t\t\t\t\t\t<input type=\"password\" id=\"UsrPwd\" value={this.state.UsrPwd} onChange={e => this.setState({UsrPwd: e.target.value})} placeholder=\"Contraseña\" autoComplete=\"new-password\"></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"ErrorMessage\">{this.state.errorMessage}</div>\r\n\t\t\t\t\t\t<div className=\"FieldContainer\">\r\n\t\t\t\t\t\t\t<div onClick={this.onLoginClick} className=\"Button\">Acceder</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport TopBar from '../cmps/TopBar';\r\nimport axios from 'axios';\r\n\r\nimport '../css/ColeccionesPage.scss';\r\n\r\nclass ColeccionesPage extends React.Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcols_divs: \"\",\r\n\t\t\tshowAddPage: \"none\",\r\n\t\t\tColNom: \"\"\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.loadData();\r\n\t}\r\n\r\n\tonColClick = e =>{\r\n\t\tlet ColCod = e.target.id;\r\n\r\n\t\twindow.location = \"#/coleccion/\"+ColCod;\r\n\t}\r\n\r\n\tonAddColClick = e =>{\r\n\t\tthis.setState({\r\n\t\t\tshowAddPage: \"block\"\r\n\t\t});\r\n\t}\r\n\r\n\tonCancelClick = e =>{\r\n\t\tthis.setState({\r\n\t\t\tshowAddPage: \"none\"\r\n\t\t});\r\n\t}\r\n\r\n\tonCrearClick = e =>{\r\n\t\tvar _this = this;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/colecciones/crear.php\", {\r\n\t\t\tColNom: this.state.ColNom,\r\n\t\t\tColDsc: this.state.ColNom\r\n\t\t}).then(res => {\r\n\t\t\t_this.loadData();\r\n\t\t\tthis.setState({showAddPage: \"none\", ColNom: \"\"});\r\n\r\n\t\t});\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"ColeccionesPage\">\r\n\t\t\t\t<TopBar />\r\n\t\t\t\t<div className=\"AddColPage\" style={{display: this.state.showAddPage}}>\r\n\t\t\t\t\t<div className=\"Container\">\r\n\t\t\t\t\t\t<h3>Ingrese Nombre:</h3>\r\n\t\t\t\t\t\t<div className=\"NombreInput\">\r\n\t\t\t\t\t\t\t<input placeholder=\"Escriba el nombre de la colección.\" onChange={e=>this.setState({ColNom: e.target.value})} value={this.state.ColNom}></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"CrearButton\" onClick={this.onCrearClick}>CREAR</div>\r\n\t\t\t\t\t\t<div className=\"CancelButton\" onClick={this.onCancelClick}>CANCELAR</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h2 className=\"Title\">Colecciones</h2>\r\n\t\t\t\t<div className=\"AddColButton\" onClick={this.onAddColClick}><i className=\"material-icons\">add_circle_outline</i></div>\r\n\t\t\t\t{this.state.cols_divs}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tloadData = () =>{\r\n\t\t// Realizo consulta al servidor...\r\n\t\taxios.defaults.withCredentials = true;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/colecciones/listado.php\", {}).then(res => {\r\n\t\t\tlet jres = res.data;\r\n\r\n\t\t\tif(jres.status === \"OK\"){\r\n\t\t\t\tlet cols_divs = [];\r\n\t\t\t\t\r\n\t\t\t\t// Iteramos todas las colecciones para armar los divs\r\n\t\t\t\tfor (const key in jres.payload) {\r\n\t\t\t\t\tif (Object.hasOwnProperty.call(jres.payload, key)) {\r\n\t\t\t\t\t\tconst coleccion = jres.payload[key];\r\n\t\t\t\t\t\tcols_divs.push(\r\n\t\t\t\t\t\t\t<div className=\"CItem\" key={coleccion.ColCod} id={coleccion.ColCod} onClick={this.onColClick}>\r\n\t\t\t\t\t\t\t\t<div className=\"Desc\">{coleccion.ColDsc}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"Icon\"><i className=\"material-icons\">arrow_forward_ios</i></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Actualizar el State del Componente para mostrar las colecciones\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcols_divs: cols_divs\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({errorMessage: jres.payload.message});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default ColeccionesPage;","import React from 'react';\r\nimport TopBar from '../cmps/TopBar';\r\nimport axios from 'axios';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nimport '../css/ColeccionPage.scss';\r\n\r\nclass ColeccionPage extends React.Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcol_fotos: \"\",\r\n            col_name: \"\",\r\n\t\t\tshowLoading: \"none\"\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.loadData(this.props.ColCod);\r\n\t}\r\n\r\n\tonAddFotoClick = e =>{\r\n\t\tdocument.getElementById(\"file\").click();\r\n\t}\r\n\r\n\tonFotoSelected = e =>{\r\n\t\tvar imageFile = document.getElementById(\"file\");\r\n\t\tlet fsize = imageFile.files[0].size;\r\n\r\n\t\tif(fsize <= 19000000){\r\n\t\t\tvar formData = new FormData();\r\n\t\t\tformData.append(\"ColCod\", this.props.ColCod);\r\n\t\t\tformData.append(\"FotFile\", imageFile.files[0]);\r\n\t\t\tvar _this = this;\r\n\r\n\t\t\tthis.setState({showLoading: \"block\"});\r\n\r\n\t\t\taxios.post(\"https://api.movil2.cointla.com/api/fotos/crear.php\", formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t}\r\n\t\t\t}).then(res=>{\r\n\t\t\t\t_this.loadData(_this.props.ColCod);\r\n\t\t\t\tthis.setState({showLoading: \"none\"});\r\n\t\t\t});\r\n\r\n\t\t}else{\r\n\t\t\talert(\"La fotografia es un pesada (2MB Máximo)\");\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"ColeccionPage\">\r\n\t\t\t\t<TopBar backTo=\"#/colecciones\" deleteCol={this.props.ColCod} />\r\n\t\t\t\t<h2 className=\"Title\">{this.state.col_name}</h2>\r\n\t\t\t\t<div className=\"LoadingAxios\" style={{display: this.state.showLoading}}>\r\n\t\t\t\t\t<div class=\"lds-ripple\"><div></div><div></div></div>\r\n\t\t\t\t\t<div class=\"LoadingText\">Cargando...</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"file\" onChange={this.onFotoSelected} name=\"file\" id=\"file\" style={{display: \"none\"}} />\r\n\t\t\t\t<div className=\"AddFotoButton\" onClick={this.onAddFotoClick}><i className=\"material-icons\">add_a_photo</i></div>\r\n\t\t\t\t<div className=\"FotosContainer\">\r\n\t\t\t\t\t{this.state.col_fotos}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tloadData = ColCod =>{\r\n\t\t// Realizo consulta al servidor...\r\n\t\tvar _this = this;\r\n\t\taxios.defaults.withCredentials = true;\r\n\t\taxios.post(\"https://api.movil2.cointla.com/api/colecciones/obtener.php\", {\r\n            ColCod: ColCod\r\n        }).then(res => {\r\n\t\t\tlet jres = res.data;\r\n\r\n\t\t\tif(jres.status === \"OK\"){\r\n\t\t\t\tlet col_fotos = [];\r\n                let col_name = jres.payload.ColDsc;\r\n\t\t\t\t\r\n\t\t\t\t// Iteramos todas las fotos para armar los divs\r\n\t\t\t\tfor (const key in jres.payload.fotos) {\r\n\t\t\t\t\tif (Object.hasOwnProperty.call(jres.payload.fotos, key)) {\r\n\t\t\t\t\t\tconst foto = jres.payload.fotos[key];\r\n                        let foto_url = \"https://api.movil2.cointla.com/data\"+foto.FotPath;\r\n\r\n\t\t\t\t\t\tlet onDeleteClick = e =>{\r\n\t\t\t\t\t\t\taxios.post(\"https://api.movil2.cointla.com/api/fotos/eliminar.php\", {\r\n\t\t\t\t\t\t\t\tColCod: ColCod,\r\n\t\t\t\t\t\t\t\tFotCod: foto.FotCod\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\t_this.loadData(_this.props.ColCod);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcol_fotos.push(\r\n\t\t\t\t\t\t\t<div className=\"FItem\" key={foto.FotCod} id={foto.FotCod} style={{backgroundImage: \"url(\"+foto_url+\")\"}}>\r\n\t\t\t\t\t\t\t\t<div className=\"inFotoIcon\" onClick={onDeleteClick}><i className=\"material-icons\">delete</i></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Actualizar el State del Componente para mostrar la coleccion y fotos\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcol_fotos: col_fotos,\r\n                    col_name: col_name\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.setState({errorMessage: jres.payload.message});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n}\r\n\r\n\r\nlet _ColeccionPage = function(){\r\n    let {ColCod} = useParams();\r\n    return (<ColeccionPage ColCod={ColCod}></ColeccionPage>)\r\n}\r\n\r\nexport default _ColeccionPage;","import React from 'react';\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\n\nimport './css/App.scss';\nimport LoginPage from './cmps/LoginPage';\nimport ColeccionesPage from './cmps/ColeccionesPage';\nimport ColeccionPage from './cmps/ColeccionPage';\n\nclass App extends React.Component{\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"App\" id=\"picme-app\">\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact><LoginPage /></Route>\n\t\t\t\t\t\t<Route path=\"/colecciones\" exact><ColeccionesPage /></Route>\n\t\t\t\t\t\t<Route path=\"/coleccion/:ColCod\" exact><ColeccionPage /></Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport './css/index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}